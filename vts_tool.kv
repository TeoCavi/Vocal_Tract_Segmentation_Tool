<Home>:
    canvas.before:
        Color:
            rgba: 0.36, 0.54, 0.6, 1
        Rectangle:
            pos: self.pos
            size: self.size 
    padding: 5
    spacing:5
    orientation: "horizontal"

    sbj: _sbj
    pred: _pred
    msg: _msg
    mri: _mri
    mainbx: _mainbx
    slider: _slider
    bk: _bk
    ul: _ul
    hp: _hp
    sp: _sp
    to: _to
    ll: _ll
    he: _he
    toggle: _toggle
    model: _model
    play: _play
    graph: _graph


    BoxLayout:                          #connection part
        spacing: 5
        size_hint: (.8,1)
        orientation: "vertical"
        BoxLayout: 
            spacing: 15
            size_hint: (1,.2)      
            orientation:"vertical"
            BoxLayout:
                spacing: 5
                size_hint:(1,0.15)
                orientation:"vertical"
                BoxLayout:
                    orientation:"horizontal"
                    Label:
                        size_hint: (0.4, 1)
                        text: "Video:"
                        font_size:25          
                    Button:    
                        id: _sbj
                        text: 'Select Video'
                        font_size:20 
                        text_size: self.size
                        halign: "center"
                        valign: "center"
                        press_v: False
                        on_press: root.SetupVideo()
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                        

            BoxLayout:
                spacing: 5
                size_hint:(1,.3)
                orientation:"vertical"
                BoxLayout:
                    orientation:"horizontal"
                    Label:
                        size_hint: (0.4, 1)
                        text: "Model:"
                        font_size:25 
                    Spinner:
                        id: _model
                        text:
                        text_size: self.size
                        font_size:20
                        halign: "center"
                        valign: "center"
                        disabled: True
                        click: False
                        press: False
                        on_text: self.click = True
                        on_press: self.press = True
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)

                Button:
                    id: _pred
                    text: "Predict"
                    text_size: self.size
                    font_size:30
                    halign: "center"
                    valign: "center"
                    disabled: True
                    on_press: root.Prediction()
                    background_normal: ''
                    background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)

            BoxLayout:
                orientation:"horizontal"
                BoxLayout:
                    id: _toggle
                    spacing: 2.5
                    orientation:"vertical"
                    disabled: True
                    ToggleButton:
                        id: _bk
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'BACKGROUND'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _ul
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'UPPER LIP'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _hp
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'HARD PALATE'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _sp
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'SOFT PALATE'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _to
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'TONGUE'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _ll
                        size_hint: (0.7, 0.8)
                        font_size:20
                        text: 'LOWER LIP'
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                    ToggleButton:
                        id: _he
                        size_hint: (0.7, 0.8)
                        text: 'HEAD'
                        font_size:20
                        state: 'normal'
                        on_press: root.Plotter(clear = False)
                        background_normal: ''
                        background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,1,1)
                BoxLayout:
            
            BoxLayout:
                size_hint: (1,1.4)
                ScrollView:
                    scrool_y:False
                    scrool_x:True
                    Graph:
                        id: _graph
                        disabled: True
                        padding: 5
                        size_hint_x: 1
                        size_hint_y: 1
                        xlabel: 'Frames'
                        ylabel: 'A'
                        label_options: {'color': (0.12,0.18,0.20,1)}
                        ymin:0.09999
                        ymax:10
                        xmin:0
                        xmax:1
                        ylog: True 
                        x_ticks_major: 1
                        y_ticks_major: 1
                        y_ticks_minor: 10
                        x_grid_label: True
                        y_grid_label: True
                        x_grid: False
                        y_grid: False
                        border_color: 0.12,0.18,0.20,1
                        background_color: 0.87, 0.91, 0.92, 1 



    BoxLayout:                          #data visualization
        orientation:"vertical"
        size_hint:(1,1)
        spacing: 5
        id: _mainbx
        rect_image: self.rect_image
        BoxLayout:
            orientation: "horizontal"
            padding: (0,0)
            size_hint:(1,.075)
            BoxLayout:
                spacing: 5
                size_hint:(1,1)
                canvas.before:
                    Color:  
                        rgba: 0.87, 0.91, 0.92, 1 
                    Rectangle:  
                        pos: self.pos 
                        size: self.size
                Label:
                    id: _msg
                    text: "Select video and model" 
                    color: (0.12,0.18,0.20,1)
                    text_size: self.width, None
                    font_size:25
                    height: self.texture_size[1]
                    halign: 'center'
                    valign: 'center'
        DrawScreen:
            id: _mri
            disabled: True
            size_hint: (1,1.1)
            size: self.size
            pos: self.pos
            state: 0
            check: False
            x0: 0
            y0: 0
            x1: 0
            y1: 0
            orientation: "horizontal"
            padding:5
            spacing:5
            on_touch_up: if self.disabled == False and self.check == True: root.Draw()

        BoxLayout:
            orientation: "horizontal"
            size_hint:(1,.05)
            spacing: 5
            ToggleButton:
                id: _play
                disabled: True
                size: self.size
                size_hint:(0.05,1)
                pos: self.pos
                frames:
                state: 'normal'
                background_normal: ''
                background_color: (0.12,0.18,0.20,1) if self.state == 'normal' else (1,1,0,1) 
                canvas.after:
                    Color:
                        rgba: 0.36, 0.54, 0.6, 1
                    Triangle:
                        points: self.pos[0], self.pos[1]+_play.height, self.pos[0]+_play.width, self.pos[1]+_play.height, self.pos[0]+_play.width, self.pos[1]+_play.height/2
                    Triangle:
                        points: self.pos[0], self.pos[1], self.pos[0]+_play.width, self.pos[1], self.pos[0]+_play.width, self.pos[1]+_play.height/2
            Slider:
                id: _slider
                step: 1
                orientation: 'horizontal'
                disabled: True
                on_value: root.Plotter(clear = True)
                background_normal: ''
                background_color: 0.12,0.18,0.20,1
            Label:
                size_hint:(0.1,1)
                text: str(int(_slider.value))

        



