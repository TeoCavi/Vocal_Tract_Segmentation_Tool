<Home>:
    canvas.before:
        Color:
            rgba: 0.5, 0.5, 0.5, 1
        Rectangle:
            pos: self.pos
            size: self.size 
    padding: 5
    spacing:5
    orientation: "horizontal"

    sbj: _sbj
    pred: _pred
    msg: _msg
    mri: _mri
    mainbx: _mainbx
    slider: _slider
    bk: _bk
    ul: _ul
    hp: _hp
    sp: _sp
    to: _to
    ll: _ll
    he: _he
    toggle: _toggle
    model: _model
    play: _play
    graph: _graph


    BoxLayout:                          #connection part
        spacing: 5
        size_hint: (.5,1)
        orientation: "vertical"
        BoxLayout: 
            spacing: 15
            size_hint: (1,.2)      
            orientation:"vertical"
            BoxLayout:
                spacing: 5
                size_hint:(1,0.15)
                orientation:"vertical"
                BoxLayout:
                    orientation:"horizontal"           
                    Button:    
                        id: _sbj
                        text: 'Select Video'
                        text_size: self.size
                        halign: "center"
                        valign: "center"
                        press_v: False
                        on_press: root.SetupVideo()

            BoxLayout:
                spacing: 5
                size_hint:(1,.3)
                orientation:"vertical"
                BoxLayout:
                    orientation:"horizontal"
                    Label:
                        size_hint: (0.4, 1)
                        text: "Model:"
                    Spinner:
                        id: _model
                        text:
                        text_size: self.size
                        halign: "center"
                        valign: "center"
                        disabled: True
                        click: False
                        press: False
                        on_text: self.click = True
                        on_press: self.press = True

                Button:
                    id: _pred
                    text: "Predict"
                    text_size: self.size
                    halign: "center"
                    valign: "center"
                    disabled: True
                    on_press: root.Prediction()

            BoxLayout:
                id: _toggle
                spacing: 5
                orientation:"vertical"
                disabled: True
                ToggleButton:
                    id: _bk
                    text: 'BK'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _ul
                    text: 'UL'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _hp
                    text: 'HP'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _sp
                    text: 'SP'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _to
                    text: 'TO'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _ll
                    text: 'LL'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
                ToggleButton:
                    id: _he
                    text: 'HE'
                    state: 'normal'
                    on_press: root.Plotter(clear = False)
            
            BoxLayout:
                size_hint: (1,0.5)
                Graph:
                    id: _graph
                    disabled: True
                    padding: 0
                    size_hint_x: 1
                    size_hint_y: 1
                    xlabel: 'Frames'
                    ylabel: '[A]'
                    x_grid:False
                    y_grid:True
                    x_ticks_major: 0
                    y_ticks_major: 0
                    x_grid_label: False
                    y_grid_label: False
                    xmin:0
                    ymin:0  
                    background_color: 0.5, 0.5, 0.5, 1



    BoxLayout:                          #data visualization
        orientation:"vertical"
        size_hint:(1,1)
        spacing: 5
        id: _mainbx
        rect_image: self.rect_image
        BoxLayout:
            orientation: "horizontal"
            padding: (0,0)
            size_hint:(1,.07)
            ScrollView:
                spacing: 5
                size_hint:(1,1)
                scrool_y:True
                scrool_x:False
                canvas.before:
                    Color:  
                        rgba: 1, 1, 1, 0.7  
                    Rectangle:  
                        pos: self.pos 
                        size: self.size
                Label:
                    id: _msg
                    text: "Welcome, Select one subject" 
                    color: (0,0,0,1)
                    text_size: self.width, None
                    font_size:20
                    size_hint_y: None
                    height: self.texture_size[1]
                    halign: 'left'
                    valign: 'middle'
        DrawScreen:
            id: _mri
            disabled: True
            size_hint: (1,1.1)
            size: self.size
            pos: self.pos
            state: 0
            check: False
            x0: 0
            y0: 0
            x1: 0
            y1: 0
            orientation: "horizontal"
            padding:5
            spacing:5
            on_touch_up: if self.disabled == False and self.check == True: root.Draw()

        BoxLayout:
            orientation: "horizontal"
            size_hint:(1,.05)
            spacing: 5
            ToggleButton:
                id: _play
                size: self.size
                size_hint:(0.05,1)
                pos: self.pos
                state: 'normal'
                color: {'normal': (1,1,1,1), 'down': (0,1,0,1)} [self.state]
                canvas.after:
                    Color:
                        rgba: 0.5, 0.5, 0.5, 1
                    Triangle:
                        points: self.pos[0], self.pos[1]+_play.height, self.pos[0]+_play.width, self.pos[1]+_play.height, self.pos[0]+_play.width, self.pos[1]+_play.height/2
                    Triangle:
                        points: self.pos[0], self.pos[1], self.pos[0]+_play.width, self.pos[1], self.pos[0]+_play.width, self.pos[1]+_play.height/2
            Slider:
                id: _slider
                step: 1
                orientation: 'horizontal'
                disabled: True
                on_value: root.Plotter(clear = True)
            Label:
                size_hint:(0.1,1)
                text: str(int(_slider.value))

        



